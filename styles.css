:root {
	--vignette-opacity: 1;
	--fadeIn-duration: 2s;
	--vignette-scale-linear: 30%;
	--vignette-scale-radial: 50%;
	--vignette-exponent: 2;       /* exponent for falloff */
}

.cm-scroller-wrapper {
    width: 100%;
    height: 100%;
    overflow: hidden !important;
    position: relative;
}

.cm-scroller.noscroll-native {
    overflow: hidden !important;
    padding-right: 0 !important;
    padding-bottom: 0 !important;
}

.vignette-linear {
    position: absolute; /* Ensure it sits on top */
    top: 0; left: 0; right: 0; bottom: 0;
    pointer-events: none; /* Let clicks pass through */
    z-index: 100;
    
    background: linear-gradient(
        90deg,
        /* --- LEFT SIDE (Fade Out) --- */
        rgba(0, 0, 0, var(--vignette-opacity)) 
            0%,

        rgba(0, 0, 0, calc(var(--vignette-opacity) * pow(0.8, var(--vignette-exponent)))) 
            calc(var(--vignette-scale-linear) * 0.2),

        rgba(0, 0, 0, calc(var(--vignette-opacity) * pow(0.6, var(--vignette-exponent)))) 
            calc(var(--vignette-scale-linear) * 0.4),

        rgba(0, 0, 0, calc(var(--vignette-opacity) * pow(0.4, var(--vignette-exponent)))) 
            calc(var(--vignette-scale-linear) * 0.6),

        rgba(0, 0, 0, calc(var(--vignette-opacity) * pow(0.2, var(--vignette-exponent)))) 
            calc(var(--vignette-scale-linear) * 0.8),

        rgba(0, 0, 0, 0) 
            var(--vignette-scale-linear),


        /* --- MIDDLE (Transparent) --- */
        rgba(0, 0, 0, 0) 
            calc(100% - var(--vignette-scale-linear)),


        /* --- RIGHT SIDE (Fade In) --- */
        rgba(0, 0, 0, calc(var(--vignette-opacity) * pow(0.2, var(--vignette-exponent)))) 
            calc(100% - (var(--vignette-scale-linear) * 0.8)),

        rgba(0, 0, 0, calc(var(--vignette-opacity) * pow(0.4, var(--vignette-exponent)))) 
            calc(100% - (var(--vignette-scale-linear) * 0.6)),

        rgba(0, 0, 0, calc(var(--vignette-opacity) * pow(0.6, var(--vignette-exponent)))) 
            calc(100% - (var(--vignette-scale-linear) * 0.4)),

        rgba(0, 0, 0, calc(var(--vignette-opacity) * pow(0.8, var(--vignette-exponent)))) 
            calc(100% - (var(--vignette-scale-linear) * 0.2)),

        rgba(0, 0, 0, var(--vignette-opacity)) 
            100%
    );
}

.vignette-radial {
	background: radial-gradient(
		circle,
		rgba(0, 0, 0, 0) calc(100% - var(--vignette-scale-radial)),
		rgba(0, 0, 0, var(--vignette-opacity)) 100%
	);
}

.animate {
	animation: fadeIn var(--fadeIn-duration);
}

.hide {
	display: none !important;
}

@keyframes fadeIn {
	0% {
		opacity: 0;
		transform: scale(1.05);
	}
	100% {
		opacity: 1;
		transform: scale(1);
	}
}

/* Fullscreen writing mode (TypeZen) */
.typezen-fullscreen .workspace-leaf {
	position: fixed !important;
	top: 0;
	left: 0;
	width: 100% !important;
	height: 100% !important;
	z-index: 15;
	background: var(--background-primary);
	overflow: hidden; /* hides native scrollbars */
}

/* Hide other leaves/panes but keep editor interactive */
.typezen-fullscreen .workspace-split > .workspace-leaf:not(.active) {
	display: none !important;
}

/* Keep status bar visible */
.typezen-fullscreen .status-bar {
	position: relative !important;
	display: flex !important;
	z-index: 20; /* above everything */
}

/* Optional: keep header hidden or animated */
.typezen-fullscreen .workspace-ribbon,
.typezen-fullscreen .workspace-leaf-header {
	display: none !important;
}
